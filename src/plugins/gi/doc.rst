IdeGiFlatRadixTree:
-------------------

- Node layout :

+----------------------------------------------------------------+---------------------------+-----------+---------------------------+
| header(64b)                                                    | children refs + padding   | payload   | prefix + padding          |
+=========+==================+================+==================+===========================+===========+===========================+
| unnused | prefix size (:8) | nb childs (:8) | nb payloads (:8) | (n x 32b) padded to 64b   | (n x 64b) | prefix size padded to 64b |
+---------+------------------+----------------+------------------+---------------------------+-----------+---------------------------+

+-------------------------------------+
| child ref (32b)                     |
+=================+===================+
| :8 first char   | :24 node offset   |
+-----------------+-------------------+

- Organisation of the nodes in the tree :

root node
 child
  child
  child
  ...

 child

 ...

IdeGiIndex: (index.tree file on the disk)
-----------------------------------------

+-------------------------------------------------------------------------------------------------------------------------------------------+
| Index                                                                                                                                     |
+=============+=============+==================================================================================+==============+=============+
| Indexheader | domain tree |  n x namespaces                                                                  |  basic types | string pool |
|             |             +----------------------+-----------------+---------------------+-------------------+              |             |
|             |             | IdeGiNamespaceHeader | IdeGiHeaderBlob | header strings pool | root objects tree |              |             |
+-------------+-------------+----------------------+-----------------+---------------------+-------------------+--------------+-------------+

+------------------------------------------------------------------+
| IndexHeader                                                      |
+==================================================================+
| unnused                                                          |
+-----------------------+------------------------------------------+
| abi_version           | version of the index                     |
+-----------------------+------------------------------------------+
| n_basic_types         |                                          |
+-----------------------+------------------------------------------+
| id_offset64b          | offset of the runtime id string          |
+-----------------------+------------------------------------------+
| dt_offset64b          | domain tree offset                       |
+-----------------------+------------------------------------------+
| dt_size64b            | domain tree size                         |
+-----------------------+------------------------------------------+
| namespaces_offset64b  | namespaces offset                        |
+-----------------------+------------------------------------------+
| namespaces_size64b    | namespaces size                          |
+-----------------------+------------------------------------------+
| basic_types_offset64b |                                          |
+-----------------------+------------------------------------------+
| strings_offset64b     | offset of the string pool for the index  |
+-----------------------+------------------------------------------+
| strings_size          | size of the string pool                  |
+-----------------------+------------------------------------------+
| res                   | padding                                  |
+-----------------------+------------------------------------------+

+--------------------------------------------------------------------+
| IdeGiNamespaceHeader                                               |
+=====+=====================+========================================+
| :32 | size64b             | size of the namespace in the index     |
+-----+---------------------+----------------------------------------+
| :32 | pad                 | padding                                |
+-----+---------------------+----------------------------------------+
| :32 | ro_tree_offset64b   | offset of the root objects tree        |
+-----+---------------------+----------------------------------------+
| :32 | ro_tree_size64b     | size of the root objects tree          |
+-----+---------------------+----------------------------------------+

- Domain tree :

The domain tree contains, for all namespace:
   - namespace name
   - c symbol name
   - c identifier names
   - GType

We have the following relation:

{key: name} => {payload: informations, type and namespace offset}

+------------------------------------------------------------------------------+
| DtPayload                                                                    |
+=====+======================+=================================================+
| :1  | is_new               | internal use at creation time                   |
+-----+----------------------+-------------------------------------------------+
| :1  | has_ro_tree          | if there ann root object tree for the namespace |
+-----+----------------------+-------------------------------------------------+
| :8  | major_version        | namespace major version                         |
+-----+----------------------+-------------------------------------------------+
| :8  | minor_version        | namespace minor version                         |
+-----+----------------------+-------------------------------------------------+
| :16 | type                 | prefix type                                     |
+-----+----------------------+-------------------------------------------------+
| :32 | namespace_size64b    | namespace size in the index                     |
+-----+----------------------+-------------------------------------------------+
| :32 | namespaces_offset64b | namespace offset in the index                   |
+-----+----------------------+-------------------------------------------------+
| :64 | mtime                | mtime of the last saved index                   |
+-----+----------------------+-------------------------------------------------+

- Root objects tree :

The root objects tree contains, for each namespace, names of classes annd interfaces.
We have the following relation:

{key: object name} => {payload: type and object offset}

+------------------------------------------------------+
| RoTreePayload (:64)                                  |
+=====+===========================+====================+
| :6  | IdeGiBlobType             | blob type          |
+-----+---------------------------+--------------------+
| :32 | IdeGiBase object offset   | object offset      |
+-----+---------------------------+--------------------+

- NamespaceId:

+-------------------------------------------------------+
| IdeGiNamespaceId                                      |
+=====+===============+=================================+
| :8  | major version | namespace major version         |
+-----+---------------+---------------------------------+
| :8  | minor version | namespace minor version         |
+-----+---------------+---------------------------------+
| :32 | offset        | offset in the mapped index.tree |
+-----+---------------+---------------------------------+

TODO: add GType too

- Each namespace file .variant:

+--------------------+----------------+--------------+------------------+-------------------------+
| IdeGiNsIndexHeader | objects tables | strings pool | doc strings pool | annotation strings pool |
+--------------------+----------------+--------------+------------------+-------------------------+

+----------------------------------------------------------------------------------------------+
| IdeGiNsIndexHeader                                                                           |
+================+===========================+=================================================+
| :64            | magic                     | magic number to be sure it's a .variant Gi file |
+----------------+---------------------------+-------------------------------------------------+
| :32 x n tables | elements_tables           | n x objects table offset                        |
+----------------+---------------------------+-------------------------------------------------+
| :32            | strings                   | strings pool offset                             |
+----------------+---------------------------+-------------------------------------------------+
| :32            | doc_strings               | doc strings pool offset                         |
+----------------+---------------------------+-------------------------------------------------+
| :32            | annotation_strings        | annotation strings pool offset                  |
+----------------+---------------------------+-------------------------------------------------+

objects tables:

   - alias
   - arrray
   - callback
   - constant
   - doc
   - enum
   - field
   - function
   - object
   - parameter
   - properrty
   - record
   - signal
   - type
   - union
   - value

The strings pools begin by a \\0 so that the string at offset 0 return a NULL string.